---
title: HashMap
date: 2025-03-26 15:00:00
showTableOfContents: true
showComments: true
katex: true
tags:
  - zig
  - zigbook
  - hashmap
---

Хеш-карта (HashMap) - это одна из самых полезных структур данных в программировании, предоставляющая ассоциативный массив с возможностью быстрого доступа к элементам по ключу за константное время (O(1)). Во всех языках программирования есть такая структура данных, так как разнообразие задач, где она применяется очень велико. В языке Python такая структура называется dict, в языке Rust - HashMap, в языке C++ - std::map или std::unordered_map. Прежде чем рассматривать реализацию HashMap в Zig, давайте познакомимся с основными понятиями и свойствами этой структуры данных.

## Основные понятия и свойства HashMap
HashMap — это структура данных, состоящая из пар «ключ-значение», где ключ уникален и используется для быстрого доступа к соответствующему значению. При добавлении элементов в HashMap вы передаете пару: ключ и значение. В результате значение сохраняется в структуре и становится доступным по указанному ключу.

HashMap работает на основе хеш-функции, которая преобразует ключ в целое число. Это число используется для определения индекса, по которому элемент хранится в массиве. Благодаря такому подходу доступ к элементам осуществляется за константное время (O(1)), даже если массив, лежащий в основе структуры, неупорядочен.

HashMap внутри себя содержит массив, который используется для хранения элементов, которые обычно называют корзинами (buckets). В каждой такой корзине может быть:

* null, если элемента нет
* элемент, если элемент есть
* список элементов (LinkedList), если в корзине есть коллизия

Когда мы вставляем элемент в HashMap, мы используем хеш-функцию для вычисления индекса корзины. К сожалению хеш-функции, которые используются в HashMap, могут приводить к колизиям - когда по разным ключам получается один и тот же индекс корзины. В этом случае мы в ячейки корзины мы храним не элемент, а связанный список на все элементы которые мы добавили по данному ключу. Это позволяет учитывать коллизии и обеспечивать быстрый доступ к элементам. Схематично это можно представить так:

{{< figure src="hashmap_dark.svg" class="post-image-dark small">}}
{{< figure src="hashmap_light.svg" class="post-image-light small">}}

## Реализация HashMap в Zig
